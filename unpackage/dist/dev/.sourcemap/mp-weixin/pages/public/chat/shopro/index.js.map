{"version":3,"sources":["webpack:///E:/example/myMall/pages/public/chat/shopro/index.vue?569a","webpack:///E:/example/myMall/pages/public/chat/shopro/index.vue?c46c","webpack:///E:/example/myMall/pages/public/chat/shopro/index.vue?b531","webpack:///E:/example/myMall/pages/public/chat/shopro/index.vue?37a8","uni-app:///pages/public/chat/shopro/index.vue","webpack:///E:/example/myMall/pages/public/chat/shopro/index.vue?dce8","webpack:///E:/example/myMall/pages/public/chat/shopro/index.vue?f41d"],"names":[],"mappings":"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AzBA,oBAyBA,IAzBA,EAyBA,MAzBA,EAyBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OARA;;AAUA;AACA,KAvCA;;AAyCA;AACA,YA1CA,oBA0CA,SA1CA,EA0CA,KA1CA,EA0CA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KApDA;;AAsDA,QAtDA,gBAsDA,IAtDA,EAsDA,MAtDA,EAsDA;AACA;AACA,kBADA;AAEA,qBAFA;;AAIA,KA3DA;;AA6DA;AACA,kBA9DA,0BA8DA,MA9DA,EA8DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAFA;;AAIA;AACA,kBAnCA;;AAqCA,OAtCA,MAsCA;AACA;AACA;AACA,KA7GA;;AA+GA;AACA,YAhHA,oBAgHA,OAhHA,EAgHA,QAhHA,EAgHA;AACA;AACA;AACA;AACA;AACA,wCADA,EACA;AACA,0BAFA,EAEA;AACA,gCAHA;;AAKA;AACA;AACA;AACA,6CADA,EACA;AACA,wBAFA,EAEA;AACA,iFAHA;AAIA,8FAJA;AAKA,oCALA;;AAOA;AACA;AACA;AACA,6CADA,EACA;AACA,sCAFA,EAEA;AACA,4CAHA;AAIA,8FAJA;AAKA,oCALA;;AAOA;AACA;AACA;AACA,6CADA,EACA;AACA,sCAFA,EAEA;AACA,4CAHA;AAIA,8FAJA;AAKA,oCALA;;AAOA;AACA;AACA;AACA,6CADA,EACA;AACA,sCAFA,EAEA;AACA,mDAHA;AAIA,8FAJA;AAKA,oCALA;;AAOA;AACA;AACA,gBA7CA;;AA+CA;AACA,KAlKA;;AAoKA;AACA,WArKA,qBAqKA;AACA,mBADA,GACA;AACA,kCADA,EACA;AACA,sCAFA,EAEA;AACA;AACA;AACA,4CAFA,EAEA;AACA,0CAHA,CAGA;AAHA,mBAHA,EADA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","file":"pages/public/chat/shopro/index.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=f6dacac0&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!C:\\\\Users\\\\LH\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/public/chat/shopro/index.vue\"\nexport default component.exports","export * from \"-!C:\\\\Users\\\\LH\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!C:\\\\Users\\\\LH\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!C:\\\\Users\\\\LH\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!C:\\\\Users\\\\LH\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!C:\\\\Users\\\\LH\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\LH\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=template&id=f6dacac0&\"","var components\ntry {\n  components = {\n    shoproNavbar: function() {\n      return import(\n        /* webpackChunkName: \"components/shopro-navbar/shopro-navbar\" */ \"@/components/shopro-navbar/shopro-navbar.vue\"\n      )\n    },\n    uNoticeBar: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-notice-bar/u-notice-bar\" */ \"@/uview-ui/components/u-notice-bar/u-notice-bar.vue\"\n      )\n    },\n    uLoadmore: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-loadmore/u-loadmore\" */ \"@/uview-ui/components/u-loadmore/u-loadmore.vue\"\n      )\n    },\n    uParse: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-parse/u-parse\" */ \"@/uview-ui/components/u-parse/u-parse.vue\"\n      )\n    },\n    uUpload: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-upload/u-upload\" */ \"@/uview-ui/components/u-upload/u-upload.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.navTitle.split(\",\")\n  var g1 = _vm.navTitle.split(\",\")\n  var g2 = _vm.navTitle.split(\",\")\n\n  var l0 = _vm.__map(_vm.chatList, function(chat, index) {\n    var $orig = _vm.__get_orig(chat)\n\n    var m0 = _vm.showTime(chat.date, index) && chat.type !== \"system\"\n    var g3 = m0 && chat.type !== \"template\" ? _vm.$u.timeFrom(chat.date) : null\n    return {\n      $orig: $orig,\n      m0: m0,\n      g3: g3\n    }\n  })\n\n  var l1 = _vm.showLogBox\n    ? _vm.__map(_vm.orderList, function(item, index) {\n        var $orig = _vm.__get_orig(item)\n\n        var g4 =\n          _vm.cardType === \"order\"\n            ? _vm.$u.timeFormat(item.createtime, \"mm-dd hh:MM\")\n            : null\n        return {\n          $orig: $orig,\n          g4: g4\n        }\n      })\n    : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        g1: g1,\n        g2: g2,\n        l0: l0,\n        l1: l1\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!C:\\\\Users\\\\LH\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\LH\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\Users\\\\LH\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\LH\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\LH\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!C:\\\\Users\\\\LH\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\LH\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\Users\\\\LH\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\LH\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\LH\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"","<!-- 客服 -->\r\n<template>\r\n\t<view class=\"chat-wrap\">\r\n\t\t<!-- 标题栏 -->\r\n\t\t<shopro-navbar\r\n\t\t\t:background=\"{\r\n\t\t\t\tbackgroundImage: 'linear-gradient(45deg, #9000ff, #5e00ff)',\r\n\t\t\t\tcolor: '#FFF'\r\n\t\t\t}\"\r\n\t\t\tbackIconColor=\"#fff\"\r\n\t\t>\r\n\t\t\t<view class=\"u-flex u-col-bottom head-box\" slot=\"content\">\r\n\t\t\t\t<view class=\"head-title u-m-r-20\">{{ navTitle.split(',')[0] }}</view>\r\n\t\t\t\t<view v-show=\"navTitle.split(',')[1] === '在线'\" class=\"u-flex u-col-center\">\r\n\t\t\t\t\t<view class=\"iconfont icon-yuandianxiao text-green head-icon\"></view>\r\n\t\t\t\t\t<view class=\"head-state\">在线</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view v-show=\"navTitle.split(',')[1] === '离线'\" class=\"u-flex u-col-center\">\r\n\t\t\t\t\t<view class=\"iconfont icon-yuandianxiao text-gray head-icon\"></view>\r\n\t\t\t\t\t<view class=\"head-state\">离线</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</shopro-navbar>\r\n\t\t<!-- 提示 -->\r\n\t\t<u-notice-bar\r\n\t\t\t:autoplay=\"true\"\r\n\t\t\tclose-icon\r\n\t\t\t@close=\"closeNotice\"\r\n\t\t\t:show=\"showNotice\"\r\n\t\t\t:type=\"noticeType\"\r\n\t\t\t:list=\"noticeList\"\r\n\t\t\t:volumeIcon=\"true\"\r\n\t\t\t:isCircular=\"true\"\r\n\t\t></u-notice-bar>\r\n\r\n\t\t<scroll-view class=\"scroll-box\" scroll-y=\"true\" :scroll-with-animation=\"false\" :enable-back-to-top=\"true\" :show-scrollbar=\"false\" :scroll-into-view=\"scrollInto\">\r\n\t\t\t<u-loadmore v-if=\"logmsgList.length\" :status=\"logStatus\" :loadText=\"loadText\" icon-type=\"circle\" @loadmore=\"logLoadmore\" />\r\n\r\n\t\t\t<view class=\"cu-chat\">\r\n\t\t\t\t<block v-for=\"(chat, index) in chatList\" :key=\"index\">\r\n\t\t\t\t\t<!-- 系统消息-->\r\n\t\t\t\t\t<view class=\"cu-info\" v-if=\"chat.type === 'system'\">{{ chat.msg }}</view>\r\n\t\t\t\t\t<view class=\"cu-info\" v-if=\"showTime(chat.date, index) && chat.type !== 'system' && chat.type !== 'template'\">{{ $u.timeFrom(chat.date) }}</view>\r\n\r\n\t\t\t\t\t<view class=\"\" v-if=\"chat.type !== 'system' && chat.type !== 'template'\">\r\n\t\t\t\t\t\t<!-- 自己  -->\r\n\t\t\t\t\t\t<view class=\"cu-item\" :class=\"{ self: chat.identify === 'user' }\">\r\n\t\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\t\tv-if=\"chat.identify !== 'user'\"\r\n\t\t\t\t\t\t\t\tclass=\"cu-avatar round\"\r\n\t\t\t\t\t\t\t\t:style=\"'background-image:url(' + (chat.server_avatar ? chat.server_avatar : $IMG_URL + '/imgs/chat/default-chat-avatar.png') + ')'\"\r\n\t\t\t\t\t\t\t></view>\r\n\t\t\t\t\t\t\t<view class=\"main\">\r\n\t\t\t\t\t\t\t\t<!-- 消息 -->\r\n\t\t\t\t\t\t\t\t<view class=\"content \" style=\"max-width: 480rpx;\" :class=\"chat.identify !== 'user' ? 'bg-white' : ' bg-gradual-purple'\" v-if=\"chat.type === 'text'\">\r\n\t\t\t\t\t\t\t\t\t<u-parse :html=\"chat.msg\"></u-parse>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<!-- 订单 -->\r\n\t\t\t\t\t\t\t\t<view class=\"content \" v-if=\"chat.type === 'order'\" @tap=\"jump('/pages/order/detail', { id: chat.msg.id })\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"order-chat\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"order-code u-m-b-20\">订单号：{{ chat.msg.order_sn }}</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"goods-card u-flex u-col-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"img-wrap\"><image class=\"goods-img\" :src=\"chat.msg.image\" mode=\"\"></image></view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"u-flex-col u-row-between card-right\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"goods-title u-ellipsis-2\">{{ chat.msg.title }}</view>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"u-flex u-col-center price-box\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"goods-price\">{{ chat.msg.price }}</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"goods-state u-m-l-10\">{{ chat.msg.status_name }}</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<!-- 商品 -->\r\n\t\t\t\t\t\t\t\t<view class=\"content \" v-if=\"chat.type === 'goods'\" @tap=\"jump('/pages/goods/detail', { id: chat.msg.id })\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"goods-card u-flex u-col-center\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"img-wrap\"><image class=\"goods-img\" :src=\"chat.msg.image\" mode=\"\"></image></view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"u-flex-col u-row-between card-right\">\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"goods-title u-ellipsis-2\">{{ chat.msg.title }}</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"u-flex u-row-between price-box\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"goods-price\">{{ chat.msg.price }}</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<text></text>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view v-if=\"chat.identify === 'user'\" class=\"cu-avatar round\" :style=\"'background-image:url(' + userInfo.avatar + ')'\"></view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- 模板消息 -->\r\n\t\t\t\t\t<view class=\"template-box u-m-y-20\" v-if=\"chat.type === 'template'\">\r\n\t\t\t\t\t\t<view class=\"template-title\">猜你想问</view>\r\n\t\t\t\t\t\t<view class=\"template-item\" v-for=\"item in templateList\" :key=\"item.id\" @tap=\"onQuestion(item)\">* {{ item.title }}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</block>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"scroll-bottom\" style=\"height: 330rpx;\" id=\"scrollBottom\"></view>\r\n\t\t</scroll-view>\r\n\t\t<!-- 底部功能栏，输入栏 -->\r\n\t\t<view class=\"cu-bar foot input u-flex-col\">\r\n\t\t\t<!-- 输入栏 -->\r\n\t\t\t<view class=\"cu-bar u-flex-1\" style=\"width: 100%;\">\r\n\t\t\t\t<view class=\"input-wrap u-flex-1 u-flex u-col-center u-m-r-20 u-p-l-20\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tclass=\"input\"\r\n\t\t\t\t\t\tv-model=\"msgText\"\r\n\t\t\t\t\t\tplaceholder-style=\"font-size:26rpx;color:#999\"\r\n\t\t\t\t\t\tplaceholder=\"请输入您想咨询的问题~\"\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tconfirm-type=\"发送\"\r\n\t\t\t\t\t\t:focus=\"false\"\r\n\t\t\t\t\t\tmaxlength=\"300\"\r\n\t\t\t\t\t\tcursor-spacing=\"10\"\r\n\t\t\t\t\t\t@focus=\"InputFocus\"\r\n\t\t\t\t\t\t@blur=\"InputBlur\"\r\n\t\t\t\t\t\t@input=\"onInput\"\r\n\t\t\t\t\t\t@confirm=\"onSend\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<view class=\"action u-p-10\" @tap=\"selEmoji\"><text class=\"iconfont icon-biaoqing text-grey\"></text></view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<button v-if=\"isFocus\" class=\"u-reset-button send-btn shadow\" @tap.stop=\"onSend\">发送</button>\r\n\t\t\t\t<button v-else class=\"u-reset-button more-btn\" @tap.stop=\"onTools\">\r\n\t\t\t\t\t<view class=\"action\" style=\"margin-right: 0;\"><text class=\"iconfont icon-tianjia text-grey\" :class=\"{ 'tools-active': showTools }\"></text></view>\r\n\t\t\t\t</button>\r\n\t\t\t</view>\r\n\t\t\t<!-- 工具栏 -->\r\n\t\t\t<view class=\"tools-box u-flex\" style=\"width: 100%;\" v-if=\"showTools\">\r\n\t\t\t\t<u-upload\r\n\t\t\t\t\t:showProgress=\"false\"\r\n\t\t\t\t\t:showUploadList=\"false\"\r\n\t\t\t\t\t@on-uploaded=\"uploadSuccess\"\r\n\t\t\t\t\t@on-change=\"uploadChange\"\r\n\t\t\t\t\t:action=\"`${HTTP_API_URL}/index/upload`\"\r\n\t\t\t\t\tmaxCount=\"9\"\r\n\t\t\t\t\t:customBtn=\"true\"\r\n\t\t\t\t\t:show-tips=\"false\"\r\n\t\t\t\t\tclass=\"u-flex-1 tools-item\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<view class=\"tools-item u-flex-1\" slot=\"addBtn\">\r\n\t\t\t\t\t\t<image class=\"item-img\" :src=\"$IMG_URL + '/imgs/chat/imgs_icon.png'\" mode=\"\"></image>\r\n\t\t\t\t\t\t<text class=\"item-title\">图片</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</u-upload>\r\n\r\n\t\t\t\t<view class=\"tools-item u-flex-1\" @tap=\"onToolItem('goods')\">\r\n\t\t\t\t\t<image class=\"item-img\" :src=\"$IMG_URL + '/imgs/chat/goods_icon.png'\" mode=\"\"></image>\r\n\t\t\t\t\t<text class=\"item-title\">商品</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"tools-item u-flex-1\" @tap=\"onToolItem('order')\">\r\n\t\t\t\t\t<image class=\"item-img\" :src=\"$IMG_URL + '/imgs/chat/order_icon.png'\" mode=\"\"></image>\r\n\t\t\t\t\t<text class=\"item-title\">订单</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- 表情栏 -->\r\n\t\t\t<view class=\"emoji-box\" v-if=\"showEmoji\">\r\n\t\t\t\t<swiper\r\n\t\t\t\t\tclass=\"emoji-swiper\"\r\n\t\t\t\t\t:indicator-dots=\"true\"\r\n\t\t\t\t\tcircular\r\n\t\t\t\t\tindicator-active-color=\"#7063D2\"\r\n\t\t\t\t\tindicator-color=\"rgba(235, 231, 255, 1)\"\r\n\t\t\t\t\t:autoplay=\"false\"\r\n\t\t\t\t\t:interval=\"3000\"\r\n\t\t\t\t\t:duration=\"1000\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<swiper-item v-for=\"(memoji, index) in newEmojiList\" :key=\"index\">\r\n\t\t\t\t\t\t<view class=\"swiper-item u-flex u-col-center\">\r\n\t\t\t\t\t\t\t<view class=\"emoji-img\" v-for=\"(memo, mindex) in memoji\" :key=\"memo.file\" @tap=\"onEmoji(memo)\">\r\n\t\t\t\t\t\t\t\t<image class=\"emoji-img\" :src=\"`${EMOJI_BASE_URL}/assets/addons/shopro/img/emoji/${memo.file}`\" mode=\"\"></image>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</swiper-item>\r\n\t\t\t\t</swiper>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 商品/订单 -->\r\n\t\t<view class=\"cu-bar log-box foot input u-flex-col\" v-if=\"showLogBox\">\r\n\t\t\t<view class=\"log-head u-flex u-row-between\">\r\n\t\t\t\t<view class=\"title-box\">{{ logTitle }}</view>\r\n\t\t\t\t<button class=\"u-reset-button close-btn\" @tap=\"closeToolsItem\"><text class=\"u-iconfont uicon-close-circle-fill\" style=\"#e0e0e0;font-size: 36rpx;\"></text></button>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"log-content\">\r\n\t\t\t\t<scroll-view class=\"card-scroll-box\" scroll-y=\"true\" :scroll-with-animation=\"true\" :show-scrollbar=\"false\" @scrolltolower=\"loadMore\">\r\n\t\t\t\t\t<!-- 订单 -->\r\n\t\t\t\t\t<view class=\"log-item\" v-for=\"(item, index) in orderList\" :key=\"index\" @tap=\"onOrderCard(item)\" v-if=\"cardType === 'order'\">\r\n\t\t\t\t\t\t<view class=\"code-box u-flex u-row-between\">\r\n\t\t\t\t\t\t\t<view class=\"code-text\">订单号：{{ item.order_sn }}</view>\r\n\t\t\t\t\t\t\t<view class=\"date-text\">{{ $u.timeFormat(item.createtime, 'mm-dd hh:MM') }}</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"u-flex log-card\">\r\n\t\t\t\t\t\t\t<view class=\"img-wrap\"><image class=\"goods-img\" :src=\"item.item[0].goods_image\" mode=\"\"></image></view>\r\n\t\t\t\t\t\t\t<view class=\"u-flex-col  card-right\">\r\n\t\t\t\t\t\t\t\t<view class=\"goods-title u-ellipsis-2\">{{ item.item[0].goods_title }}</view>\r\n\t\t\t\t\t\t\t\t<view class=\"num-box\">数量：{{ item.item[0].goods_num }}</view>\r\n\t\t\t\t\t\t\t\t<view class=\"u-flex u-row-between price-box\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"goods-price\">{{ item.item[0].goods_price }}</view>\r\n\t\t\t\t\t\t\t\t\t<text class=\"goods-state\">{{ item.status_name }}</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- 商品 -->\r\n\t\t\t\t\t<view class=\"log-item\" v-for=\"(item, index) in viewList\" :key=\"index\" @tap=\"onViewCard(item)\" v-if=\"cardType === 'goods'\">\r\n\t\t\t\t\t\t<view class=\"u-flex log-card\">\r\n\t\t\t\t\t\t\t<view class=\"img-wrap\"><image class=\"goods-img\" :src=\"item.goods.image\" mode=\"\"></image></view>\r\n\t\t\t\t\t\t\t<view class=\"u-flex-col u-row-between card-right\">\r\n\t\t\t\t\t\t\t\t<view class=\"goods-title u-ellipsis-2\">{{ item.goods.title }}</view>\r\n\t\t\t\t\t\t\t\t<view class=\"num-box\">{{ item.goods.subtitle }}</view>\r\n\t\t\t\t\t\t\t\t<view class=\"u-flex u-row-between price-box\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"goods-price\">{{ item.goods.price }}</view>\r\n\t\t\t\t\t\t\t\t\t<text class=\"goods-state\"></text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<u-loadmore height=\"80rpx\" :status=\"loadStatus\" icon-type=\"flower\" color=\"#ccc\" />\r\n\t\t\t\t</scroll-view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 遮罩 -->\r\n\t\t<view class=\"cu-modal\" @tap=\"onMask\" :class=\"{ show: showTools || showEmoji }\" style=\"z-index: 1000;\"></view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nimport Socket from './chat.js';\r\nimport { BASE_URL, API_URL } from '@/env.js';\r\nimport { mapMutations, mapActions, mapState, mapGetters } from 'vuex';\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tsocket: null, //socket服务\r\n\t\t\tInputBottom: 0,\r\n\t\t\tisPageHide: false,\r\n\t\t\tHTTP_API_URL: API_URL,\r\n\t\t\tEMOJI_BASE_URL: BASE_URL,\r\n\t\t\tnavTitle: '连接中...', //标题栏\r\n\t\t\tscrollInto: '', //scrollBottom\r\n\t\t\tlastId: '', //加载历史聊天记录用\r\n\t\t\tlogmsgList: [], //历史消息\r\n\t\t\ttemplateList: [], //模板问题。\r\n\t\t\temojiList: [], //表情包\r\n\t\t\tnewEmojiList: [], //分层后的表情数据\r\n\t\t\tloadText: {\r\n\t\t\t\tloadmore: '点击加载更多',\r\n\t\t\t\tloading: '正在加载，请喝杯茶...',\r\n\t\t\t\tnomore: '我也是有底线的'\r\n\t\t\t},\r\n\t\t\tlogStatus: 'loadmore',\r\n\t\t\tcardType: '', //卡片分类\r\n\t\t\tcurrentPage: 1,\r\n\t\t\tlastPage: 1,\r\n\t\t\tchatList: [\r\n\t\t\t\t// identify: 'customer_service', // 用户发送的为 user; 客服发送的为 customer_service\r\n\t\t\t\t// type: 'text', //message:用户消息类型; message_list:请求消息列表\r\n\t\t\t\t// msg: message.message,\r\n\t\t\t\t// date: this.$u.timeFormat(message.createtime, 'yyyy年mm月dd日 hh时MM分')\r\n\t\t\t],\r\n\t\t\tmsgText: '', //输入框内容\r\n\t\t\tshowNotice: true, //滚动提示\r\n\t\t\tnoticeType: 'warning',\r\n\t\t\tshowTools: false, //工具栏显示\r\n\t\t\tshowLogBox: false, //商品订单栏\r\n\t\t\tshowEmoji: false, //表情显示\r\n\t\t\tlogTitle: '', //；栏目标题\r\n\t\t\ttoolsList: [\r\n\t\t\t\t//工具栏列表\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 'imgs',\r\n\t\t\t\t\timage: this.$IMG_URL + '/imgs/chat/imgs_icon.png',\r\n\t\t\t\t\ttitle: '图片'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 'goods',\r\n\t\t\t\t\timage: this.$IMG_URL + '/imgs/chat/goods_icon.png',\r\n\t\t\t\t\ttitle: '商品'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 'order',\r\n\t\t\t\t\timage: this.$IMG_URL + '/imgs/chat/order_icon.png',\r\n\t\t\t\t\ttitle: '订单'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 'file',\r\n\t\t\t\t\timage: this.$IMG_URL + '/imgs/chat/file_icon.png',\r\n\t\t\t\t\ttitle: '文件'\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tnoticeList: [], //跑马灯提示。\r\n\t\t\t// 订单商品,分页。\r\n\t\t\tloadStatus: 'loadmore', //loadmore-加载前的状态，loading-加载中的状态，nomore-没有更多的状态\r\n\t\t\torderList: [],\r\n\t\t\tviewList: [],\r\n\t\t\torderCurrentPage: 1,\r\n\t\t\tviewCurrentPage: 1,\r\n\t\t\torderTotalPage: 1,\r\n\t\t\tviewTotalPage: 1\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapGetters(['userInfo']),\r\n\t\tisFocus() {\r\n\t\t\t//检测输入框是否有信息\r\n\t\t\tlet isMsg = false;\r\n\t\t\tthis.msgText ? (isMsg = true) : (isMsg = false);\r\n\t\t\treturn isMsg;\r\n\t\t},\r\n\t\tisClose() {\r\n\t\t\tif (this.socket) {\r\n\t\t\t\treturn this.socket.isClose;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tcreated() {\r\n\t\tthis.init();\r\n\t},\r\n\tonShow() {\r\n\t\t// #ifdef MP-WEIXIN\r\n\t\tthis.init();\r\n\t\tthis.isPageHide = true;\r\n\t\t// #endif\r\n\t},\r\n\tonHide() {\r\n\t\t// #ifdef MP-WEIXIN\r\n\t\tif (this.isPageHide) {\r\n\t\t\tthis.socket.close();\r\n\t\t}\r\n\t\t// #endif\r\n\t\tuni.hideKeyboard();\r\n\t},\r\n\tbeforeDestroy() {\r\n\t\tthis.socket.close();\r\n\t},\r\n\tmethods: {\r\n\t\tinit() {\r\n\t\t\tlet that = this;\r\n\t\t\tthat.$http('common.chat').then(res => {\r\n\t\t\t\tif (res.code == 1) {\r\n\t\t\t\t\tthat.noticeList.push(res.data.config.basic.notice);\r\n\t\t\t\t\tthat.templateList = res.data.question;\r\n\t\t\t\t\tthat.emojiList = res.data.emoji;\r\n\t\t\t\t\tthat.newEmojiList = this.sortData(res.data.emoji, 30);\r\n\t\t\t\t\tthat.socket = new Socket(\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tping: 20000,\r\n\t\t\t\t\t\t\tis_ssl: res.data.config.system.is_ssl,\r\n\t\t\t\t\t\t\tgateway_port: res.data.config.system.gateway_port,\r\n\t\t\t\t\t\t\tssl_type: res.data.config.system.ssl_type\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tmsg => {\r\n\t\t\t\t\t\t\tthat.parseMsgStatus(msg.data); //监听消息\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// 数据分层\r\n\t\tsortData(oArr, length) {\r\n\t\t\tlet arr = [];\r\n\t\t\tlet minArr = [];\r\n\t\t\toArr.forEach(c => {\r\n\t\t\t\tif (minArr.length === length) {\r\n\t\t\t\t\tminArr = [];\r\n\t\t\t\t}\r\n\t\t\t\tif (minArr.length === 0) {\r\n\t\t\t\t\tarr.push(minArr);\r\n\t\t\t\t}\r\n\t\t\t\tminArr.push(c);\r\n\t\t\t});\r\n\r\n\t\t\treturn arr;\r\n\t\t},\r\n\r\n\t\t// 时间显示\r\n\t\tshowTime(timestamp, index) {\r\n\t\t\ttimestamp = parseInt(timestamp);\r\n\t\t\t// 判断用户输入的时间戳是秒还是毫秒,一般前端js获取的时间戳是毫秒(13位),后端传过来的为秒(10位)\r\n\t\t\tif (timestamp.toString().length == 10) timestamp *= 1000;\r\n\t\t\tlet timer = new Date().getTime() - timestamp;\r\n\t\t\ttimer = parseInt(timer / 1000);\r\n\r\n\t\t\tif (index % 6 == 0 && timer >= 300) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tjump(path, parmas) {\r\n\t\t\tthis.$Router.push({\r\n\t\t\t\tpath: path,\r\n\t\t\t\tquery: parmas\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// 解析链接状态\r\n\t\tparseMsgStatus(msgStr) {\r\n\t\t\tlet obj = JSON.parse(msgStr);\r\n\t\t\tlet chatName = '客服';\r\n\t\t\tif (obj.data?.customer_service) {\r\n\t\t\t\tchatName = obj.data.customer_service.name ? `客服-${obj.data.customer_service.name}` : '客服';\r\n\t\t\t}\r\n\t\t\tif (obj.code === 1) {\r\n\t\t\t\tswitch (obj.type) {\r\n\t\t\t\t\tcase 'init':\r\n\t\t\t\t\t\tuni.setStorageSync('chatSessionId', obj.data.session_id);\r\n\t\t\t\t\t\tthis.chatLog().then(this.pushChat('', 'template'));\r\n\t\t\t\t\t\tthis.goBottom();\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'waiting':\r\n\t\t\t\t\t\tthis.navTitle = '暂无客服在线';\r\n\t\t\t\t\t\tthis.pushChat(obj.data.message.message, 'system');\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'access':\r\n\t\t\t\t\t\tthis.navTitle = `${chatName},在线`;\r\n\t\t\t\t\t\tthis.pushChat(obj.data.message.message, 'system');\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'customer_service_online':\r\n\t\t\t\t\t\tthis.navTitle = `${chatName},在线`;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'customer_service_offline':\r\n\t\t\t\t\t\tthis.navTitle = `${chatName},离线`;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'message':\r\n\t\t\t\t\t\tthis.chatList.push(this.parseMsg(obj.data.message, obj.data.message.identify));\r\n\t\t\t\t\t\tthis.goBottom();\r\n\t\t\t\t\t\tuni.vibrateLong();\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'message_list':\r\n\t\t\t\t\t\tlet msgList = obj.data.message_list.data;\r\n\t\t\t\t\t\tthis.logmsgList = obj.data.message_list.data;\r\n\t\t\t\t\t\tthis.lastId = msgList[0]?.id;\r\n\t\t\t\t\t\tthis.lastPage = obj.data.message_list.last_page;\r\n\t\t\t\t\t\tmsgList.forEach(item => {\r\n\t\t\t\t\t\t\tthis.chatList.unshift(this.parseMsg(item, item.identify));\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis.$u.toast('连接错误，正在重试~');\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// 解析消息类型,接受数据时才用，发送数据时不用。\r\n\t\tparseMsg(message, identify) {\r\n\t\t\tlet obj = null;\r\n\t\t\tswitch (message.message_type) {\r\n\t\t\t\tcase 'system':\r\n\t\t\t\t\tobj = {\r\n\t\t\t\t\t\tidentify: 'customer_service', // 用户发送的为 user; 客服发送的为 customer_service\r\n\t\t\t\t\t\ttype: 'system', //message:用户消息类型; message_list:请求消息列表\r\n\t\t\t\t\t\tmsg: message.message\r\n\t\t\t\t\t};\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'image':\r\n\t\t\t\t\tobj = {\r\n\t\t\t\t\t\tidentify: message.sender_identify, // 用户发送的为 user; 客服发送的为 customer_service\r\n\t\t\t\t\t\ttype: 'text', //message:用户消息类型; message_list:请求消息列表\r\n\t\t\t\t\t\tmsg: `<img class=\"chat-img\" src=\"${message.message}\"/>`,\r\n\t\t\t\t\t\tserver_avatar: identify?.avatar,\r\n\t\t\t\t\t\tdate: message.createtime\r\n\t\t\t\t\t};\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'goods':\r\n\t\t\t\t\tobj = {\r\n\t\t\t\t\t\tidentify: message.sender_identify, // 用户发送的为 user; 客服发送的为 customer_service\r\n\t\t\t\t\t\ttype: message.message_type, //message:用户消息类型; message_list:请求消息列表\r\n\t\t\t\t\t\tmsg: JSON.parse(message.message),\r\n\t\t\t\t\t\tserver_avatar: identify?.avatar,\r\n\t\t\t\t\t\tdate: message.createtime\r\n\t\t\t\t\t};\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'order':\r\n\t\t\t\t\tobj = {\r\n\t\t\t\t\t\tidentify: message.sender_identify, // 用户发送的为 user; 客服发送的为 customer_service\r\n\t\t\t\t\t\ttype: message.message_type, //message:用户消息类型; message_list:请求消息列表\r\n\t\t\t\t\t\tmsg: JSON.parse(message.message),\r\n\t\t\t\t\t\tserver_avatar: identify?.avatar,\r\n\t\t\t\t\t\tdate: message.createtime\r\n\t\t\t\t\t};\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'text':\r\n\t\t\t\t\tobj = {\r\n\t\t\t\t\t\tidentify: message.sender_identify, // 用户发送的为 user; 客服发送的为 customer_service\r\n\t\t\t\t\t\ttype: message.message_type, //message:用户消息类型; message_list:请求消息列表\r\n\t\t\t\t\t\tmsg: this.replaceEmoji(message.message),\r\n\t\t\t\t\t\tserver_avatar: identify?.avatar,\r\n\t\t\t\t\t\tdate: message.createtime\r\n\t\t\t\t\t};\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\treturn obj;\r\n\t\t},\r\n\r\n\t\t// 获取历史聊天记录\r\n\t\tasync chatLog() {\r\n\t\t\tlet msg = {\r\n\t\t\t\tidentify: 'user', // 用户发送的为 user; 客服发送的为 customer_service\r\n\t\t\t\ttype: 'message_list', //message:用户消息类型; message_list:请求消息列表\r\n\t\t\t\tdata: {\r\n\t\t\t\t\t// 额外参数，分页页码，分页条数等\r\n\t\t\t\t\tpage: this.currentPage, //默认\r\n\t\t\t\t\tlast_id: this.lastId //第一页第一条的Id\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tthis.logStatus = 'loading';\r\n\t\t\tlet strMsg = JSON.stringify(msg);\r\n\t\t\tlet res = await this.socket.send(strMsg);\r\n\t\t\tif (res && res.errMsg === 'sendSocketMessage:ok') {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.logStatus = 'loadmore';\r\n\t\t\t\t}, 300);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// 获取焦点\r\n\t\tInputFocus(e) {\r\n\t\t\tthis.onMask();\r\n\t\t},\r\n\t\t// 失去焦点\r\n\t\tInputBlur(e) {\r\n\t\t\tthis.InputBottom = 0;\r\n\t\t},\r\n\t\t// 输入\r\n\t\tonInput(e) {},\r\n\r\n\t\t// 滚动到顶部\r\n\t\tlogLoadmore() {\r\n\t\t\tif (this.currentPage < this.lastPage) {\r\n\t\t\t\tthis.currentPage += 1;\r\n\t\t\t\tthis.chatLog();\r\n\t\t\t} else {\r\n\t\t\t\tthis.logStatus = 'nomore';\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// 点击工具栏开关\r\n\t\tonTools() {\r\n\t\t\tif (this.isClose) {\r\n\t\t\t\tthis.$u.toast('您已掉线！请返回重试');\r\n\t\t\t\tthis.noticeType = 'error';\r\n\t\t\t\tthis.noticeList = ['您已掉线！请返回重试'];\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.showEmoji = false;\r\n\t\t\tthis.showTools = !this.showTools;\r\n\t\t},\r\n\t\t// 工具栏功能项\r\n\t\tonToolItem(type) {\r\n\t\t\tthis.cardType = type;\r\n\t\t\tlet map = new Map();\r\n\t\t\tmap.set('order', () => {\r\n\t\t\t\tthis.logTitle = '我的订单';\r\n\t\t\t\tthis.showLogBox = true;\r\n\t\t\t\tthis.getOrderList();\r\n\t\t\t});\r\n\t\t\tmap.set('goods', () => {\r\n\t\t\t\tthis.logTitle = '我的浏览';\r\n\t\t\t\tthis.showLogBox = true;\r\n\t\t\t\tthis.getbrowseList();\r\n\t\t\t});\r\n\t\t\tmap.set('imgs', this.chooseImg);\r\n\r\n\t\t\tmap.get(type)();\r\n\t\t},\r\n\t\t// 点击商品卡片\r\n\t\tonViewCard(goods) {\r\n\t\t\tlet goodsData = {\r\n\t\t\t\tid: goods.goods.id,\r\n\t\t\t\ttitle: goods.goods.title,\r\n\t\t\t\tprice: goods.goods.price,\r\n\t\t\t\timage: goods.goods.image\r\n\t\t\t};\r\n\t\t\tlet goodsStr = JSON.stringify(goodsData);\r\n\t\t\tthis.sendWs(goodsStr, 'goods');\r\n\t\t\tthis.pushChat(goodsData, 'goods');\r\n\t\t\tthis.onMask();\r\n\t\t},\r\n\t\tonOrderCard(order) {\r\n\t\t\tlet orderData = {\r\n\t\t\t\tid: order.id,\r\n\t\t\t\ttitle: order.item[0].goods_title,\r\n\t\t\t\tprice: order.item[0].goods_price,\r\n\t\t\t\tnum: order.item[0].goods_num,\r\n\t\t\t\torder_sn: order.order_sn,\r\n\t\t\t\timage: order.item[0].goods_image,\r\n\t\t\t\tstatus_name: order.status_name\r\n\t\t\t};\r\n\t\t\tlet orderStr = JSON.stringify(orderData);\r\n\t\t\tthis.sendWs(orderStr, 'order');\r\n\t\t\tthis.pushChat(orderData, 'order');\r\n\t\t\tthis.onMask();\r\n\t\t},\r\n\t\t// 关闭工具栏项\r\n\t\tcloseToolsItem() {\r\n\t\t\tthis.showLogBox = false;\r\n\t\t},\r\n\r\n\t\t// 选择表情\r\n\t\tselEmoji() {\r\n\t\t\tthis.showTools = false;\r\n\t\t\tthis.showLogBox = false;\r\n\t\t\tthis.showEmoji = !this.showEmoji;\r\n\t\t},\r\n\t\t// 点击表情\r\n\t\tonEmoji(item) {\r\n\t\t\tthis.msgText += item.name;\r\n\t\t},\r\n\r\n\t\t// 点击遮罩\r\n\t\tonMask() {\r\n\t\t\tthis.showTools = false;\r\n\t\t\tthis.showLogBox = false;\r\n\t\t\tthis.showEmoji = false;\r\n\t\t},\r\n\r\n\t\t//关闭滚动提示\r\n\t\tcloseNotice() {\r\n\t\t\tthis.showNotice = false;\r\n\t\t},\r\n\r\n\t\t// 滚动底部\r\n\t\tgoBottom() {\r\n\t\t\tlet timeout = null;\r\n\t\t\tthis.scrollInto = '';\r\n\t\t\tclearTimeout(timeout);\r\n\t\t\ttimeout = setTimeout(() => {\r\n\t\t\t\tthis.scrollInto = 'scrollBottom';\r\n\t\t\t}, 300);\r\n\t\t},\r\n\r\n\t\t// 发送图片\r\n\t\tuploadSuccess(list) {\r\n\t\t\tlist.forEach(item => {\r\n\t\t\t\tthis.sendWs(item.response.data.url, 'image');\r\n\t\t\t\tthis.pushChat(`<img class=\"chat-img\" src=\"${item.response.data.fullurl}\"/>`);\r\n\t\t\t\tthis.onMask();\r\n\t\t\t});\r\n\t\t},\r\n\t\tuploadChange(e) {\r\n\t\t\t// console.log('上传回调', e);\r\n\t\t},\r\n\r\n\t\t// 发送问题\r\n\t\tasync onQuestion(question) {\r\n\t\t\tthis.pushChat(question.title);\r\n\t\t\tlet msg = {\r\n\t\t\t\tidentify: 'user', // 用户发送的为 user; 客服发送的为 customer_service\r\n\t\t\t\ttype: 'message', //message:用户消息类型; message_list:请求消息列表\r\n\t\t\t\tmessage: {\r\n\t\t\t\t\t// 发送的消息   type 为 message 的时候必填\r\n\t\t\t\t\tmessage_type: 'text', // 消息类型 text image 等\r\n\t\t\t\t\tmessage: question.title // 消息内容 文本，或者图片地址，或者商品 json 对象\r\n\t\t\t\t},\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tquestion_id: question.id\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tlet strMsg = JSON.stringify(msg);\r\n\t\t\tlet res = await this.socket.send(strMsg);\r\n\t\t},\r\n\r\n\t\t// 发送消息\r\n\t\tonSend() {\r\n\t\t\tif (this.msgText) {\r\n\t\t\t\tthis.sendWs(this.msgText);\r\n\t\t\t\tthis.pushChat(this.msgText);\r\n\t\t\t\tthis.msgText = '';\r\n\t\t\t}\r\n\t\t\tthis.showEmoji && this.onMask();\r\n\t\t},\r\n\r\n\t\t// 发送服务数据\r\n\t\tasync sendWs(data, type = 'text') {\r\n\t\t\tlet msg = {\r\n\t\t\t\tidentify: 'user', // 用户发送的为 user; 客服发送的为 customer_service\r\n\t\t\t\ttype: 'message', //message:用户消息类型; message_list:请求消息列表\r\n\t\t\t\tmessage: {\r\n\t\t\t\t\t// 发送的消息   type 为 message 的时候必填\r\n\t\t\t\t\tmessage_type: type, // 消息类型 text image 等\r\n\t\t\t\t\tmessage: data // 消息内容 文本，或者图片地址，或者商品 json 对象\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tlet strMsg = JSON.stringify(msg);\r\n\t\t\tlet res = await this.socket.send(strMsg);\r\n\t\t},\r\n\r\n\t\t// 发送本地数据。\r\n\t\tpushChat(data, type = 'text') {\r\n\t\t\tif (this.isClose) {\r\n\t\t\t\tthis.$u.toast('您已掉线！请返回重试');\r\n\t\t\t\tthis.noticeType = 'error';\r\n\t\t\t\tthis.noticeList = ['您已掉线！请返回重试'];\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.chatList.push({\r\n\t\t\t\tidentify: 'user',\r\n\t\t\t\ttype: type,\r\n\t\t\t\tmsg: this.replaceEmoji(data),\r\n\t\t\t\tdate: new Date().getTime()\r\n\t\t\t});\r\n\t\t\tthis.goBottom();\r\n\t\t},\r\n\r\n\t\t// 表情地址\r\n\t\tselEmojiFile(name) {\r\n\t\t\tfor (let index in this.emojiList) {\r\n\t\t\t\tif (this.emojiList[index].name === name) {\r\n\t\t\t\t\treturn this.emojiList[index].file;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\t// 替换表情\r\n\t\treplaceEmoji(data) {\r\n\t\t\tlet newData = data;\r\n\t\t\tif (typeof newData !== 'object') {\r\n\t\t\t\tlet reg = /\\[(.+?)\\]/g; // [] 中括号\r\n\t\t\t\tlet zhEmojiName = newData.match(reg);\r\n\t\t\t\tif (zhEmojiName) {\r\n\t\t\t\t\tzhEmojiName.forEach(item => {\r\n\t\t\t\t\t\tlet emojiFile = this.selEmojiFile(item);\r\n\t\t\t\t\t\tnewData = newData.replace(\r\n\t\t\t\t\t\t\titem,\r\n\t\t\t\t\t\t\t`<img class=\"chat-img\" style=\"width:50rpx;height:50rpx;margin:0 6rpx\" src=\"${this.EMOJI_BASE_URL}/assets/addons/shopro/img/emoji/${emojiFile}\"/>`\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn newData;\r\n\t\t},\r\n\r\n\t\t// 加载更多\r\n\t\tloadMore() {\r\n\t\t\tif (this.cardType === 'goods') {\r\n\t\t\t\tif (this.viewCurrentPage < this.viewTotalPage) {\r\n\t\t\t\t\tthis.viewCurrentPage += 1;\r\n\t\t\t\t\tthis.getbrowseList();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (this.cardType === 'order') {\r\n\t\t\t\tif (this.orderCurrentPage < this.orderTotalPage) {\r\n\t\t\t\t\tthis.orderCurrentPage += 1;\r\n\t\t\t\t\tthis.getOrderList();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// 订单列表\r\n\t\tgetOrderList() {\r\n\t\t\tlet that = this;\r\n\t\t\tthat.isLoading = true;\r\n\t\t\tthat.loadStatus = 'loading';\r\n\t\t\tthat.$http('order.index', {\r\n\t\t\t\ttype: 'all',\r\n\t\t\t\tpage: that.orderCurrentPage\r\n\t\t\t}).then(res => {\r\n\t\t\t\tthat.isLoading = false;\r\n\t\t\t\tif (res.code === 1) {\r\n\t\t\t\t\tthat.orderList = [...that.orderList, ...res.data.data];\r\n\t\t\t\t\tthat.orderTotalPage = res.data.last_page;\r\n\t\t\t\t\tthat.loadStatus = that.orderCurrentPage < res.data.last_page ? 'loadmore' : 'nomore';\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// 历史记录\r\n\t\tgetbrowseList() {\r\n\t\t\tlet that = this;\r\n\t\t\tthat.loadStatus = 'loading';\r\n\t\t\tthat.$http('user.viewList', {\r\n\t\t\t\tpage: that.viewCurrentPage\r\n\t\t\t}).then(res => {\r\n\t\t\t\tif (res.code === 1) {\r\n\t\t\t\t\tthat.viewList = [...that.viewList, ...res.data.data];\r\n\t\t\t\t\tthat.viewTotalPage = res.data.last_page;\r\n\t\t\t\t\tthat.loadStatus = that.viewCurrentPage < res.data.last_page ? 'loadmore' : 'nomore';\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import './chat.scss';\r\n// 重置样式\r\npage {\r\n\toverflow: hidden;\r\n}\r\n.cu-avatar {\r\n\tborder: 1rpx solid #eeeeee;\r\n}\r\n\r\n// 标题栏\r\n.head-box {\r\n\t.head-title {\r\n\t\tfont-size: 38rpx;\r\n\t\tline-height: 38rpx;\r\n\t\twhite-space: nowrap;\r\n\t}\r\n\t.head-icon {\r\n\t\tfont-size: 34rpx;\r\n\t\tline-height: 38rpx;\r\n\t}\r\n\t.text-green {\r\n\t\tcolor: $u-type-success-dark;\r\n\t}\r\n\t.text-gray {\r\n\t\tcolor: $u-type-error;\r\n\t}\r\n\t.head-state {\r\n\t\tfont-size: 28rpx;\r\n\t\tline-height: 38rpx;\r\n\t}\r\n}\r\n// 模板消息\r\n.template-box {\r\n\twidth: 690rpx;\r\n\tbackground: #ffffff;\r\n\tborder-radius: 10rpx;\r\n\tmargin: 0 auto;\r\n\tpadding: 20rpx 24rpx;\r\n\t.template-title {\r\n\t\tfont-size: 26rpx;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #333333;\r\n\t\tline-height: 36rpx;\r\n\t\tmargin-bottom: 20rpx;\r\n\t}\r\n\t.template-item {\r\n\t\tfont-size: 24rpx;\r\n\t\tfont-weight: 500;\r\n\t\tcolor: #603fff;\r\n\t\tline-height: 46rpx;\r\n\t}\r\n}\r\n// 聊天框\r\n.chat-wrap {\r\n\theight: 100%;\r\n\toverflow: hidden;\r\n\t.scroll-box {\r\n\t\theight: 100%;\r\n\t}\r\n\t.cu-chat {\r\n\t\t.cu-info {\r\n\t\t\tborder-radius: 26rpx;\r\n\t\t\tbackground: rgba(#000, 0.1);\r\n\t\t\tpadding: 6rpx 20rpx;\r\n\t\t}\r\n\t\t.main {\r\n\t\t\tmargin: 0 20rpx;\r\n\t\t\tmax-width: calc(100% - 80px);\r\n\t\t}\r\n\t\t.cu-item > .main .content {\r\n\t\t\t&::after {\r\n\t\t\t\twidth: 0;\r\n\t\t\t\theight: 0;\r\n\t\t\t}\r\n\t\t\t&::before {\r\n\t\t\t\twidth: 0;\r\n\t\t\t\theight: 0;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n// 底部\r\n.foot {\r\n\tpadding: 0 20rpx;\r\n\t.input-wrap {\r\n\t\tbackground: #f2f2f2;\r\n\t\tborder-radius: 32rpx;\r\n\t\tflex: 1;\r\n\t\theight: 60rpx;\r\n\t\t.input {\r\n\t\t\twidth: 100%;\r\n\t\t}\r\n\t}\r\n\t.send-btn {\r\n\t\tpadding: 0;\r\n\t\twidth: 110rpx;\r\n\t\tline-height: 64rpx;\r\n\t\tbackground: linear-gradient(90deg, #a36fff, #5336ff);\r\n\t\tborder-radius: 32rpx;\r\n\t\tcolor: #fff;\r\n\t}\r\n\t.more-btn {\r\n\t\tpadding: 0;\r\n\t\tbackground: none;\r\n\t\t.icon-tianjia {\r\n\t\t\tfont-size: 44rpx;\r\n\t\t\tbackground: linear-gradient(90deg, #a36fff, #5336ff);\r\n\t\t\t-webkit-background-clip: text;\r\n\t\t\tcolor: transparent;\r\n\t\t\ttransition: all linear 0.2s;\r\n\t\t}\r\n\t\t.tools-active {\r\n\t\t\ttransform: rotate(45deg);\r\n\t\t\ttransition: all linear 0.2s;\r\n\t\t}\r\n\t}\r\n}\r\n// 工具栏\r\n.tools-box {\r\n\tbackground-color: #fff;\r\n\theight: 310rpx;\r\n\tborder-top: 1rpx solid #f6f6f6;\r\n\ttransition: all 0.3s ease-in-out 0s;\r\n\t.tools-item {\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\t.item-img {\r\n\t\t\twidth: 70rpx;\r\n\t\t\theight: 70rpx;\r\n\t\t\tmargin-bottom: 30rpx;\r\n\t\t}\r\n\t\t.item-tile {\r\n\t\t\tfont-size: 24rpx;\r\n\t\t\tfont-weight: 500;\r\n\t\t\tcolor: #333333;\r\n\t\t}\r\n\t}\r\n}\r\n// 商品卡片\r\n.goods-card {\r\n\twidth: 100%;\r\n\t.goods-img {\r\n\t\twidth: 116rpx;\r\n\t\theight: 116rpx;\r\n\t\tmargin-right: 20rpx;\r\n\t}\r\n\t.card-right {\r\n\t\twidth: 330rpx;\r\n\t\theight: 116rpx;\r\n\t\t.goods-title {\r\n\t\t\twidth: 330rpx;\r\n\t\t\tfont-size: 26rpx;\r\n\t\t\tfont-weight: 500;\r\n\t\t\tcolor: #333333;\r\n\t\t\tline-height: 32rpx;\r\n\t\t\ttext-align: left;\r\n\t\t}\r\n\r\n\t\t.price-box {\r\n\t\t\twidth: 100%;\r\n\t\t\t.goods-price {\r\n\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\tfont-weight: 500;\r\n\t\t\t\tcolor: #ff3000;\r\n\t\t\t\t&::before {\r\n\t\t\t\t\tcontent: '￥';\r\n\t\t\t\t\tfont-size: 20rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.goods-state {\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\tfont-weight: 500;\r\n\t\t\t\tcolor: #603fff;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n// 订单卡片样式\r\n.order-chat {\r\n\twidth: 100%;\r\n\t.order-code {\r\n\t\tfont-size: 24rpx;\r\n\t\twidth: 100%;\r\n\t\tfont-weight: 400;\r\n\t\tcolor: #999999;\r\n\t\tborder-bottom: 1rpx solid rgba(#dfdfdf, 0.5);\r\n\t\tpadding: 0 0rpx 10rpx;\r\n\t}\r\n}\r\n\r\n// 订单商品记录\r\n.log-box {\r\n\twidth: 750rpx;\r\n\theight: 600rpx;\r\n\tbackground: #f2f2f2;\r\n\tborder-radius: 20rpx 20rpx 0px 0px;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\t.log-head {\r\n\t\tbox-sizing: border-box;\r\n\t\twidth: 750rpx;\r\n\t\theight: 94rpx;\r\n\t\tbackground: #ffffff;\r\n\t\tborder-radius: 20rpx 20rpx 0px 0px;\r\n\t\tpadding: 0 26rpx;\r\n\t\t.title-box {\r\n\t\t\tfont-size: 30rpx;\r\n\t\t\tfont-weight: 500;\r\n\t\t\tcolor: #333333;\r\n\t\t\tline-height: 90rpx;\r\n\t\t\tborder-bottom: 4rpx solid #7063d2;\r\n\t\t}\r\n\t\t.close-btn {\r\n\t\t\tpadding: 0;\r\n\t\t\tbackground: none;\r\n\t\t}\r\n\t}\r\n\t.log-content {\r\n\t\tflex: 1;\r\n\t\theight: 100%;\r\n\t\twidth: 100%;\r\n\t\toverflow: hidden;\r\n\t\tbackground: #f2f2f2;\r\n\t\t.card-scroll-box {\r\n\t\t\theight: 100%;\r\n\t\t\twidth: 100%;\r\n\t\t\tbackground: #f2f2f2;\r\n\t\t}\r\n\t\t.log-item {\r\n\t\t\twidth: 690rpx;\r\n\t\t\tmargin: 20rpx;\r\n\t\t\tbackground-color: #fff;\r\n\t\t\tborder-radius: 20rpx;\r\n\t\t\t.code-box {\r\n\t\t\t\tborder-bottom: 1rpx solid rgba(#dfdfdf, 0.5);\r\n\t\t\t\theight: 76rpx;\r\n\t\t\t\tpadding: 0 20rpx;\r\n\t\t\t\t.code-text,\r\n\t\t\t\t.date-text {\r\n\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\tfont-weight: 400;\r\n\t\t\t\t\tcolor: #999999;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.log-card {\r\n\t\t\t\tpadding: 30rpx 20rpx;\r\n\t\t\t}\r\n\t\t\t.goods-img {\r\n\t\t\t\twidth: 140rpx;\r\n\t\t\t\theight: 140rpx;\r\n\t\t\t\tmargin-right: 20rpx;\r\n\t\t\t}\r\n\t\t\t.card-right {\r\n\t\t\t\twidth: 500rpx;\r\n\t\t\t\theight: 140rpx;\r\n\r\n\t\t\t\t.goods-title {\r\n\t\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\t\tfont-weight: 500;\r\n\t\t\t\t\tcolor: #333333;\r\n\t\t\t\t\tline-height: 32rpx;\r\n\t\t\t\t\ttext-align: left;\r\n\t\t\t\t\twidth: 500rpx;\r\n\t\t\t\t}\r\n\t\t\t\t.num-box {\r\n\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\tfont-weight: 400;\r\n\t\t\t\t\tcolor: #999999;\r\n\t\t\t\t\ttext-align: left;\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t}\r\n\t\t\t\t.price-box {\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t.goods-price {\r\n\t\t\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\t\t\tfont-weight: 500;\r\n\t\t\t\t\t\tcolor: #333333;\r\n\t\t\t\t\t\t&::before {\r\n\t\t\t\t\t\t\tcontent: '￥';\r\n\t\t\t\t\t\t\tfont-size: 20rpx;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.goods-state {\r\n\t\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\t\tfont-weight: 500;\r\n\t\t\t\t\t\tcolor: #603fff;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n// 表情栏\r\n.emoji-box {\r\n\twidth: 100%;\r\n\tbackground-color: #fff;\r\n\theight: 310rpx;\r\n\tborder-top: 1rpx solid #f6f6f6;\r\n\ttransition: all 0.3s ease-in-out 0s;\r\n\tpadding: 20rpx 0;\r\n\t.emoji-swiper {\r\n\t\theight: 280rpx;\r\n\t\t.swiper-item {\r\n\t\t\tflex-wrap: wrap;\r\n\t\t}\r\n\t}\r\n\t.emoji-img {\r\n\t\twidth: 50rpx;\r\n\t\theight: 50rpx;\r\n\t\tdisplay: inline-block;\r\n\t\tmargin: 10rpx;\r\n\t}\r\n}\r\n</style>\r\n","import mod from \"-!C:\\\\Users\\\\LH\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!C:\\\\Users\\\\LH\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!C:\\\\Users\\\\LH\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\Users\\\\LH\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!C:\\\\Users\\\\LH\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!C:\\\\Users\\\\LH\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!C:\\\\Users\\\\LH\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!C:\\\\Users\\\\LH\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\LH\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!C:\\\\Users\\\\LH\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!C:\\\\Users\\\\LH\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!C:\\\\Users\\\\LH\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\Users\\\\LH\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!C:\\\\Users\\\\LH\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!C:\\\\Users\\\\LH\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!C:\\\\Users\\\\LH\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!C:\\\\Users\\\\LH\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\LH\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1632634316997\n      var cssReload = require(\"C:/Users/LH/Downloads/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}